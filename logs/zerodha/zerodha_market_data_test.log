/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:30 main() Wed May 14 18:10:22 2025 Starting Enhanced Zerodha Market Data Adapter Test...
/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:43 main() Wed May 14 18:10:22 2025 Using config file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:52 main() Wed May 14 18:10:22 2025 Creating market data adapter with JSON configuration
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:97 EnvironmentConfig() Wed May 14 18:10:22 2025 Initializing EnvironmentConfig with env file: , config file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:332 loadFromJson() Wed May 14 18:10:22 2025 Loaded JSON configuration with 4 sections
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: exchanges
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: risk
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: trading_system
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:149 load() Wed May 14 18:10:22 2025 Successfully loaded configuration from JSON file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:302 load() Wed May 14 18:10:22 2025 Loaded configuration: 4 instruments, 0 symbol mappings, 3 index futures
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:307 load() Wed May 14 18:10:22 2025 Trading mode: PAPER
/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:61 main() Wed May 14 18:10:22 2025 Successfully loaded configuration from /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:67 main() Wed May 14 18:10:22 2025 Trading mode: PAPER
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:15 ZerodhaMarketDataAdapter() Wed May 14 18:10:22 2025 Initializing Zerodha Market Data Adapter with JSON config file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:97 EnvironmentConfig() Wed May 14 18:10:22 2025 Initializing EnvironmentConfig with env file: , config file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:332 loadFromJson() Wed May 14 18:10:22 2025 Loaded JSON configuration with 4 sections
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: exchanges
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: risk
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:338 loadFromJson() Wed May 14 18:10:22 2025 - Found config section: trading_system
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:149 load() Wed May 14 18:10:22 2025 Successfully loaded configuration from JSON file: /home/praveen/om/siriquantum/ida/config/trading.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:302 load() Wed May 14 18:10:22 2025 Loaded configuration: 4 instruments, 0 symbol mappings, 3 index futures
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/environment_config.cpp:307 load() Wed May 14 18:10:22 2025 Trading mode: PAPER
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:95 from_config() Wed May 14 18:10:22 2025 Creating ZerodhaAuthenticator from EnvironmentConfig
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:74 ZerodhaAuthenticator() Wed May 14 18:10:22 2025 Pure C++ Authenticator: Token will be stored at: /home/praveen/om/siriquantum/ida/build/tests/.cache/zerodha/token_NQ8574.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:58 initialize() Wed May 14 18:10:22 2025 Initializing InstrumentTokenManager
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:53 InstrumentTokenManager() Wed May 14 18:10:22 2025 Initialized InstrumentTokenManager with cache at: .cache/zerodha/instruments.csv
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:72 initialize() Wed May 14 18:10:22 2025 Initializing InstrumentTokenManager
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:81 initialize() Wed May 14 18:10:22 2025 Cache needs refresh, downloading new instrument data
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:572 downloadInstrumentsCSV() Wed May 14 18:10:22 2025 Downloading instruments CSV from Zerodha API
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:588 downloadInstrumentsCSV() Wed May 14 18:10:22 2025 Authenticating with Zerodha
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:141 authenticate() Wed May 14 18:10:22 2025 Authenticating with Zerodha (Pure C++ implementation)...
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:171 get_request_token() Wed May 14 18:10:22 2025 Performing automated Zerodha login with persistent session...
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:180 get_request_token() Wed May 14 18:10:22 2025 Using cookie file: /tmp/zerodha_cookies_7Fj5eC
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:193 get_request_token() Wed May 14 18:10:22 2025 Step 1: Logging in with user_id=NQ8574
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:224 get_request_token() Wed May 14 18:10:22 2025 Login response: {"status":"success","data":{"user_id":"NQ8574","request_id":"vfYkpCeLTn13I0DG9Zij6v0pN5YDhgt4R7u1EZjQ4dqbZifgMSqMbEgUBpXypq3t","twofa_type":"totp","twofa_types":["totp","app_code"],"twofa_status":"active","profile":{"user_name":"Venkata Lakshmi Narayana Praveenkumar Ayyalasomayajula","user_shortname":"Venkata","avatar_url":null}}}
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:234 get_request_token() Wed May 14 18:10:22 2025 Got request_id: vfYkpCeLTn13I0DG9Zij6v0pN5YDhgt4R7u1EZjQ4dqbZifgMSqMbEgUBpXypq3t
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:239 get_request_token() Wed May 14 18:10:22 2025 Step 2: Submitting TOTP code: 416371
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:273 get_request_token() Wed May 14 18:10:22 2025 2FA response: {"status":"success","data":{"profile":{}}}
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:278 get_request_token() Wed May 14 18:10:22 2025 Step 3: Making GET request to: https://kite.zerodha.com/connect/login?v=3&api_key=n8o9wnb25ov492cq
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:325 get_request_token() Wed May 14 18:10:23 2025 Response code: 200
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:328 get_request_token() Wed May 14 18:10:23 2025 Final URL after redirects: https://www.google.com/?status=success&request_token=34D8temmGCT3nQkti9yTW74c7nNOf1Qm&action=login&type=login
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:350 get_request_token() Wed May 14 18:10:23 2025 Request token retrieved: 34D8temmGCT3nQkti9yTW74c7nNOf1Qm
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:376 process_request_token() Wed May 14 18:10:23 2025 Processing request token
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:453 save_session() Wed May 14 18:10:23 2025 Session saved to cache: /home/praveen/om/siriquantum/ida/build/tests/.cache/zerodha/token_NQ8574.json
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:415 process_request_token() Wed May 14 18:10:23 2025 Successfully obtained access token
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:152 authenticate() Wed May 14 18:10:23 2025 Successfully authenticated via C++ implementation
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:632 downloadInstrumentsCSV() Wed May 14 18:10:24 2025 Downloaded 7391137 bytes of instrument data
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:91 initialize() Wed May 14 18:10:24 2025 Saved 7391137 bytes of instrument data to cache
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:24 2025 Processed 10000 CSV lines, 10000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:24 2025 Processed 20000 CSV lines, 20000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:24 2025 Processed 30000 CSV lines, 30000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 40000 CSV lines, 40000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 50000 CSV lines, 50000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 60000 CSV lines, 60000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 70000 CSV lines, 70000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 80000 CSV lines, 80000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:454 parseCSV() Wed May 14 18:10:25 2025 Processed 90000 CSV lines, 90000 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:461 parseCSV() Wed May 14 18:10:26 2025 Finished parsing CSV: 92102 lines, 92102 valid instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:720 buildIndices() Wed May 14 18:10:26 2025 Building lookup indices for 92102 instruments
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:752 buildIndices() Wed May 14 18:10:26 2025 Built indices: 92102 tokens, 92102 symbols, 84560 names, 221 future indices
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/instrument_token_manager.cpp:122 initialize() Wed May 14 18:10:26 2025 Successfully loaded 92102 instruments
/home/praveen/om/siriquantum/ida/tests/zerodha_market_data_test.cpp:86 main() Wed May 14 18:10:26 2025 Starting market data adapter
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:78 start() Wed May 14 18:10:26 2025 Starting Zerodha Market Data Adapter
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:354 authenticate() Wed May 14 18:10:26 2025 Authenticating with Zerodha
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/auth/zerodha_authenticator.cpp:128 authenticate() Wed May 14 18:10:26 2025 Using cached session
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:374 authenticate() Wed May 14 18:10:26 2025 Successfully authenticated
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:36 ZerodhaWebSocketClient() Wed May 14 18:10:26 2025 Initializing Boost.Beast WebSocket client
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:109 start() Wed May 14 18:10:26 2025 Initializing WebSocket connection before starting market data thread
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:133 connect() Wed May 14 18:10:26 2025 Connecting to Zerodha WebSocket: wss://ws.kite.trade/?api_key=n8o9wnb25ov492cq&access_token=hgdR9B2EUC0KiTelHVTdfHY10ynSrx6k
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:162 connect() Wed May 14 18:10:26 2025 Connection details: host='ws.kite.trade', path='/?api_key=n8o9wnb25ov492cq&access_token=hgdR9B2EUC0KiTelHVTdfHY10ynSrx6k', port=443, secure=true
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:173 operator()() Wed May 14 18:10:26 2025 Starting WebSocket client thread
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:231 operator()() Wed May 14 18:10:26 2025 WebSocket connection established
/home/praveen/om/siriquantum/ida/trading/adapters//hooehpraveee/_omt/sirriqhaantumocieda/ltratding/ad:p382ters/ ecoondha/)mWar Mat_dat1/z1erod  a_we WsoSocket_clienc.ipp e:581abl sh_cowneht( ) WeouM
y 14 18:10:26 2025 Connected to Zerodha WebSocket
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:120 start() Wed May 14 18:10:26 2025 WebSocket connection established successfully
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:642 on_message() Wed May 14 18:10:26 2025 Received text message: {"type": "instruments_meta", "data": {"count": 92079, "etag": "W/\"68243215-3075\""}}
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:381 runMarketData() Wed May 14 18:10:26 2025 Zerodha Market Data thread started
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_market_data_adapter.cpp:405 runMarketData() Wed May 14 18:10:26 2025 WebSocket already connected
                                                                                                             ge() Wed May 14 18:10:29 2025 Received binary message of length 1
/home/praveen/om/siriquantum/ida/trading/adapters/zerodha/market_data/zerodha_websocket_client.cpp:667 parse_binary_message() Wed May 14 18:10:29 2025 Binary message too short: 1 bytes
                                                                                                             